<!DOCTYPE html>
<html>
 <head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <!--
  <link rel="shortcut icon" type="image/ico" href="img/favicon.gif" />
   <link rel="stylesheet" type="text/css" href="style.css" />
   -->
   <title> titre </title>
 </head>
  <body style="background-color:#A4A4A4;">
     <h1 align="center">ESP8266</h1>

    <div id="container">
        <div>
            <h3 width: 85px>led1</h3>
            <img id="btn1" value=0 onclick="cc(this)" style="height: 65px; ;width: 95%; "
                src="">
        </div>
        <div>
            <h3 width: 85px>led2</h3>
            <img id="btn2" value=0 onclick="cc(this)" style="height: 65px; ;width: 95%; "
                src="">
        </div>
        <div>
            <h3 width: 85px >led3</h3>
            <img id="btn3" b3.value=0 onclick="cc(this)" style="height: 65px; ;width: 95%; "
                src="">
        </div>
        <div>
            <h3 width: 85px >led4</h3>
            <img id="btn4" value=0  onclick="cc(this)" style="height: 65px; ;width:95%; "
                src="">
        </div>
        <div>
            <h3 width: 85px >led5</h3>
            <img id="btn5" value=0  onclick="cc(this)" style="height: 65px; ;width:95%; "
                src="">
        </div>
        <div>
            <h3>led6</h3>
            <img id="btn6" value=0  onclick="cc(this)" style="height: 65px; ;width: 95%; "
                src="">
        </div>
      </div>
    <div id="container">
        <div>
            <h3 width: 85px>btn1</h3>
            <img id="led1"  style="width: 85%; ;height: width; " src="">
        </div>
         <div>
            <h3 width: 85px>btn2</h3>
            <img id="led2"  style="width: 85%; ;height: width; " src="">
        </div>
         <div>
            <h3 width: 85px>btn3</h3>
            <img id="led3"  style="width: 85%;height: width; " src="">
        </div>
         <div>
            <h3 width: 85px>btn4</h3>
            <img id="led4"  style=" width: 85%;height: width; " src="">
        </div>
         <div>
            <h3 width: 85px>btn5</h3>
            <img id="led5"  style="width: 85%;height: width; " src="">
        </div>
         <div>
            <h3 width: 85px>btn6</h3>
            <img id="led6"  style="width: 85%;height: width; " src="">
        </div>
     
    </div> 
       
     <div id="container">
  <div id="gauge_div" style="width:90%;display: block;margin-left: auto;
    margin-right: auto;text-align:center; height: 90%;"></div></div>
        <style>
        
#container { display: block;
    margin-left: auto;
    margin-right: auto;
 width:100%;
 max-width: 900px;
 text-align:center;
}
#container > div {
 width: calc(100% / 6.5);  
 display: inline-block;
 vertical-align: top;   
 text-align:center;
}
        </style>
       <script src="jquery.js"></script>

     <script>
                let num = 0;
 let timerId = setInterval("star()", 1000);
    function star() {
     let data1;
         $(function(){
             $.get("https://alyaniabid.000webhostapp.com/api/index.php", function(data){
                 data1=data;
               //jQuery.parseJSON(data)
               if (data.sortie.btn1=="off"){btn1.src="off.png";btn1.value=0;}else{btn1.src="on.png";btn1.value=1;}
               if (data.sortie.btn2=="off"){btn2.src="off.png";btn2.value=0;}else{btn2.src="on.png";btn2.value=1;}
               if (data.sortie.btn3=="off"){btn3.src="off.png";btn3.value=0;}else{btn3.src="on.png";btn3.value=1;}
               if (data.sortie.btn4=="off"){btn4.src="off.png";btn4.value=0;}else{btn4.src="on.png";btn4.value=1;}
               if (data.sortie.btn5=="off"){btn5.src="off.png";btn5.value=0;}else{btn5.src="on.png";btn5.value=1;}
               if (data.sortie.btn6=="off"){btn6.src="off.png";btn6.value=0;}else{btn6.src="on.png";btn6.value=1;}
                  console.log(data.sortie) 
                  ///////////////////////////////////////////////
                if (data.entree.led1=="1"){led1.src="vert1.png";}else{led1.src="vert2.png";}
                if (data.entree.led2=="1"){led2.src="vert1.png";}else{led2.src="vert2.png";}
                if (data.entree.led3=="1"){led3.src="vert1.png";}else{led3.src="vert2.png";}
                if (data.entree.led4=="1"){led4.src="vert1.png";}else{led4.src="vert2.png";}
                if (data.entree.led5=="1"){led5.src="vert1.png";}else{led5.src="vert2.png";}
                if (data.entree.led6=="1"){led6.src="vert1.png";}else{led6.src="vert2.png";}
                changeTemp(data.entree.AN1);
             });
         } );
       
}
/////////////////////

/////////////////////////////////////////////////////7
function cc(element) {var xhr = new XMLHttpRequest();xhr.open("GET", "https://alyaniabid.000webhostapp.com/api/ecrire.php?action=output_update&id="+element.id+"&state=on", true);
    if (element.value==0){element.src = 'on.png';element.value=1; 
   }
else { xhr.open("GET", "https://alyaniabid.000webhostapp.com/api/ecrire.php?action=output_update&id="+element.id+"&state=off", true);
    element.src = 'off.png';element.value=0;
   
}xhr.send()
}</script>
 
 <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
    google.charts.load('current', {'packages':['gauge']});
    google.charts.setOnLoadCallback(drawGauge);

    var gaugeOptions = {min: 0, max: 1023, yellowFrom: 700, yellowTo: 950,
      redFrom: 950, redTo: 1023, minorTicks: 5};
    var gauge;

    function drawGauge() {
      gaugeData = new google.visualization.DataTable();
      gaugeData.addColumn('number', 'Engine');
      gaugeData.addColumn('number', 'Torpedo');
      gaugeData.addRows(2);
      gaugeData.setCell(0, 0, 45);
      gaugeData.setCell(0, 1, 80);

      gauge = new google.visualization.Gauge(document.getElementById('gauge_div'));
      gauge.draw(gaugeData, gaugeOptions);
    }

    function changeTemp(dir) {
    //  gaugeData.setValue(0, 0, gaugeData.getValue(0, 0) + dir );
      gaugeData.setValue(0, 0,  dir );
      gauge.draw(gaugeData, gaugeOptions);
    }
  </script>
 </body>
</html>


